{% extends 'base.html' %}
{% block title %}Workouts{% endblock title %}
{% block head %} {{super()}} <link rel="stylesheet" href="{{url_for('static', filename='main_style.css')}}"> {% endblock head %}
{% block body %}
<h1>Welcome, {{user.name}}</h1>
{% with messages = get_flashed_messages() %}
{% if messages %}
    <div class="flashes">
        {{messages[0]}}
    </div>

{% endif %}
{% endwith %}
<div class="container">
    <table class="table table-hover"  >
        <thead class="thead-dark">
            <tr>
                <th scope="col">Number of Push-ups </th>
                <th scope="col">Performed At</th>
                <th scope="col">Comments</th>
            </tr>
        </thead>
        <tbody>
            {% for workout in workouts.items %}
            <tr>
                <td>{{workout.pushups}}</td>
                <td>{{workout.date_posted.strftime('%m/%d/%y')}}</td>
                <td>{{workout.comment}}</td>
                <td>
                    <a href="{{url_for('main.update_workout',workout_id=workout.id)}}" class="btn btn-outline-primary mx-2" role="button">Edit</a>
                    <a href="{{url_for('main.delete_workout',workout_id=workout.id)}}" class="btn btn-outline-danger" role="button">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% for page_num in workouts.iter_pages(left_edge=1, right_edge=1, left_current=1,right_current=1) %}
    {% if page_num %}
        {% if workouts.page == page_num %}
        <a href="{{url_for('main.all_workouts',page=page_num)}}" class="btn btn-info mb-2">{{page_num}}</a>
        {% else %}
        <a href="{{url_for('main.all_workouts',page=page_num)}}" class="btn btn-outline-info mb-2">{{page_num}}</a>
        {% endif %}
        {% else %}
        ...
        {% endif %} 
    {% endfor %}
</div>
{% endblock body %}
 